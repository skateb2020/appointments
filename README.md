# Appointments with Dr. Strange
## Video Demo: <https://www.youtube.com/watch?v=9BE563-AOWw>
### Description:
Appointments with Dr. Stange is a python program that allows the user to create an appointment with Dr. Strange and saves the information regarding the appointment in a csv file. If the user only uses the file name on the command-line, he will get an error message. If the user uses "-h" or "--help" on the command-line, he will receive instructions on how to run the program. Using "create_appointment" on the command-line will allow the user to create his appointment. The user will be asked a series of personal questions and questions about when he wants to schedule his appointment. The program will reprompt the user if the information is formatted incorrectly. The program will only allow the user to create an appointment on a future weekday between 9 am and 4 pm, omitting 12 pm to 1 pm for the doctor's lunch break. The program saves one hour slots for every appointment, and if the time has already been reserved, the user will be reprompted. Once the user has inputted valid information, the program returns a confirmation to the user.

Main(), the first function of the program, checks for an extra command-line argument. If that command-line argument is missing or there are too many command-line arguments, the system exits the program. Otherwise, the function proceeds with the rest of the program. Main() runs appointment() in a while looping, only breaking out once valid input has been received. After that, main() has a list of dictionaries containing personal questions to ask the user and the corresponding regex for each question. Using a for loop, the function gets valid input for every question of the list and saves the answer to the appropriate dictionary. Afterward, the function gets the user's birthdate using a while loop and gets the date and time of the appointment through appropriate functions. Finally, all of the input values are added to the csv file using add_data() and a confirmation message is printed for the user.

Validate_command_line() takes in the second command-line argument as an argument. If the argument is "-h" or "--help", the system will exit and display instructions on how to use the program for the user. If the command-line is "create_appointment", the function returns true. Otherwise, the program will exit with an error message.

Appointment() takes the user's input as an argument. If the argument is not a string, the function returns True. If the input is "yes", the function returns False. If the input is "no", the system exits the program. Otherwise, the function returns True.

Validate() takes the user's input and the regex needed to check the input as arguments. If the input matches the regex, the function returns a titlecased version of the input. Otherwise, the function returns False.

Birthdate() takes a date as an argument and tries to convert the date to a datetime object. If it cannot, the function returns False. The function also gets the current day and converts December 31, 1900 to a datetime object. If the date is greater than the current day or before Decmber 31, 1900, the function returns False. Otherwise, it returns the date argument.

Appointment_date() takes a date as an argument and tries to convert it to a datetime object, exiting the program if it cannot. The function gets the current date and returns "Appointment date has already passed" if the date is less than (before) today's date. Then the function checks if the date is on a weekday; if not, the function returns "Needs to be on a weekday." Otherwise, the function returns the date argument.

Using a while loop, get_date() runs validate until the function receives valid input from the user. If validate does not return False, get_date() uses appointment_date() to ensure that the date is on a future weekday. If the return value of appointment_date() has a slash in it, meaning it is a date, get_date() returns the inputted date. Otherwise, get_date() prints the return value of appointment_date() and continues with the loop.

Similarly, get_time() uses a while loop and gets valid input from the user using validate(). If the return of validate() is not False, the input value is passed into time_validator() to ensure that the time corresponds with the appointment times at the doctor's office. If the return value of time_validator() does not return False, the input is returned.

The existing_appointments() function prohibits a user from creating an appointment when another appointment already exists. The function takes the date and the time of the new appointment as input. The function reads the contents of appointments.csv, where the created appointments are saved, and adds the values of the "appointment_date" and "appointment_time" columns to a list. The function procedes to loop through the values of the list, checking if the time and date arguments are in the list. If the time and date are already taken, an error message is printed out and get_date() and get_time() are run, so that the user can input another date for his appointment.

Time_validator() checks if its time argument is valid. It tries to split the argument at the space and removes the periods from the second variable. If this is not possible, the system exits the program. If the second variable is "am" and the first variable, the hour, is in the list of valid morning hours or if the second variable is "pm" and the hour variable is in the list of valid afternoon hours, the lowered version of the argument is returned without periods. If the hour variable is not in the corresponding list, the function returns False.

Finally, add_date() takes all the information inputted by the user as arguments. The function then appends the arguments to the csv file using DictWriter. It writes the row according to which argument is passed to which column of the csv file.
